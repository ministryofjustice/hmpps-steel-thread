{%- from "govuk/components/tag/macro.njk" import govukTag -%}
{% set flag = params.flag %}
{% if flag.rosh %}
  {% set flagClass = 'govuk-tag--' + flag.colour if flag.colour else flag.class %}
{% else %}
  {% set flagClass = 'govuk-tag--grey' %}
{% endif %}

{% set flagHtml %}
  {% if flag.rosh %}
    <a href="#">{{ flag.text }}</a>
  {% else %}
    <a href="/cases/{{ params.CRN }}/flag/{{ flag.text | toSlug }}">{{ flag.text }}</a>
  {% endif %}
{% endset %}
{{ govukTag({ html: flagHtml, classes: 'govuk-tag--link govuk-!-margin-right-1 ' + flagClass }) }}
