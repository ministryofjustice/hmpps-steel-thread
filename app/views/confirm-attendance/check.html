{% extends "_wizard-form.html" %}
{% set buttonText = 'Confirm attendance' %}
{% set title = 'Check your answers' %}

{% block form %}
  <h1 class="govuk-heading-xl">{{ title }}</h1>

  {% set complianceText = case.serviceUserPersonalDetails.firstName + ' was absent' if data['communication'][CRN][sessionId]['did-service-user-comply'] == 'Absent' else data['communication'][CRN][sessionId]['did-service-user-comply']  %}

  {{ govukSummaryList({
    classes: 'govuk-!-margin-bottom-9',
    rows: [
      {
        key: { text: "RAR activity" },
        value: { text: data['communication'][CRN][sessionId]['session-rar-category'] if data['communication'][CRN][sessionId]['session-counts-towards-rar'] == 'Yes' else 'None'  },
        actions: {
          items: [
            {
              href: "rar-categories",
              text: "Change",
              visuallyHiddenText: "RAR activity"
            }
          ]
        }
      },
      {
        key: { text: case.serviceUserPersonalDetails.firstName + " complied?" },
        value: { text: complianceText },
        actions: {
          items: [
            {
              href: "compliance",
              text: "Change",
              visuallyHiddenText: "compliance"
            }
          ]
        }
      },
      {
        key: { text: "Appointment notes" },
        value: { text: data['communication'][CRN][sessionId]['session-notes'] if data['communication'][CRN][sessionId]['add-notes'] == 'Yes' else 'None' },
        actions: {
          items: [
            {
              href: "add-notes",
              text: "Change",
              visuallyHiddenText: "appointment notes"
            }
          ]
        }
      }
    ]
    }) }}

  <p class="govuk-body">Youâ€™re confirming attendance for:</p>

  <div class="govuk-inset-text">
    <strong>{{ data['communication'][CRN][sessionId]['type-of-session'] }}</strong><br>
    {{ data['communication'][CRN][sessionId]['session-date'] | dateWithDayAndWithoutYear }} from {{ data['communication'][CRN][sessionId]['session-start-time'] }} to {{ data['communication'][CRN][sessionId]['session-end-time'] }}
  </div>
{% endblock %}
