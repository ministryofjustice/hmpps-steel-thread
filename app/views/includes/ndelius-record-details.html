{% set session = arrangedSession({
    providerCode: data['provider-code'],
    typeOfSession: data['type-of-session'],
    contactType: data['type-of-session-other'],
    date: data['session-date'],
    startTime: data['session-start-time'],
    endTime: data['session-end-time'],
    countsTowardsRAR: data['session-counts-towards-rar'] == 'Yes',
    rarCategory: data['session-rar-category'],
    rarSubCategory: data['session-rar-subcategory'],
    locationCode: data['session-location-code']
}) %}

{% set ndeliusDataHTML %}
  <h2 class="govuk-heading-m">Contact record</h2>
  {{ govukSummaryList({
    classes: 'govuk-summary-list--no-border',
    rows: [
      {
        key: { text: "Contact type code" },
        value: { text: session.contactRecord.typeCode }
      },
      {
        key: { text: "Contact type description" },
        value: { text: session.contactRecord.typeDescription }
      },
      {
        key: { text: "Location code" },
        value: { text: session.contactRecord.locationCode }
      }
    ]
  }) }}

  {% if session.nsiRecord %}
    <h2 class="govuk-heading-m">NSI record</h2>

    {{ govukSummaryList({
      classes: 'govuk-summary-list--no-border',
      rows: [
        {
          key: { text: "RAR type description" },
          value: { text: session.nsiRecord.typeDescription }
        },
        {
          key: { text: "RAR subtype description" },
          value: { text: session.nsiRecord.subtypeDescription }
        }
      ]
    }) }}

  {% endif %}
{% endset %}

{{ govukDetails({
  summaryText: "Whatâ€™s going to be recorded into NDelius",
  html: ndeliusDataHTML
}) }}
