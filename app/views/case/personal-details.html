{% extends "layout.html" %}
{% set title = 'Full personal details' %}
{% block pageTitle %}{{ title }}{% endblock %}

{% block beforeContent %}
{{ govukBreadcrumbs({
  items: [
    {
      text: "Cases",
      href: "/cases"
    },
    {
      text: case.serviceUserPersonalDetails.name,
      href: "/cases/" + CRN
    },
    {
      text: "Personal details",
      href: "/cases/" + CRN + "/details"
    },
    {
      text: title
    }
  ]
}) }}
{% endblock %}

{% block content %}
<h1 class="govuk-heading-xl">{{title}}</h1>

<div class="govuk-!-margin-bottom-7">
  {% set dateOfBirthAndAge %}
    {{ case.serviceUserPersonalDetails.dateOfBirth | dateWithYear }} ({{ yearsSince(case.serviceUserPersonalDetails.dateOfBirth) }} years old)
  {% endset %}

  {{ govukSummaryList({
    rows: [
      {
        key: { text: "Name" },
        value: { text: case.serviceUserPersonalDetails.name }
      },
      {
        key: { text: "Preferred name/Known as" },
        value: { text: case.serviceUserPersonalDetails.preferredNameKnownAs }
      } if case.serviceUserPersonalDetails.preferredNameKnownAs,
      {
        key: { text: "Aliases" },
        value: { text: case.serviceUserPersonalDetails.aliases.join(', ') | default('<span class="govuk-hint-s">None known</span>', true) | safe }
      },
      {
        key: { text: "Date of birth" },
        value: { text: dateOfBirthAndAge }
      },
      {
        key: { text: "Preferred language" },
        value: { text: case.serviceUserPersonalDetails.preferredLanguage }
      },
      {
        key: { text: "Disabilities and adjustments" },
        value: { text: case.serviceUserPersonalDetails.disabilitiesAndAdjustments.join(', ') | default('<span class="govuk-hint-s">None known</span>', true) | safe }
      },
      {
        key: { text: "Nationality" },
        value: { text: case.serviceUserPersonalDetails.nationality }
      },
      {
        key: { text: "Ethnicity" },
        value: { text: case.serviceUserPersonalDetails.ethnicity }
      },
      {
        key: { text: "Religion or belief" },
        value: { text: case.serviceUserPersonalDetails.religion }
      },
      {
        key: { text: "Sex" },
        value: { text: case.serviceUserPersonalDetails.sex }
      },
      {
        key: { text: "Gender identity" },
        value: { text: case.serviceUserPersonalDetails.genderIdentity }
      } if case.serviceUserPersonalDetails.genderIdentity,
      {
        key: { text: "Self-described gender" },
        value: { text: case.serviceUserPersonalDetails.selfDescribedGender }
      } if case.serviceUserPersonalDetails.selfDescribedGender,
      {
        key: { text: "Sexual orientation" },
        value: { text: case.serviceUserPersonalDetails.sexualOrientation }
      }
    ]
    }) }}
</div>

<p class="govuk-body-s govuk-hint-s">
  Last updated 6 January 2021
</p>

{% endblock %}
